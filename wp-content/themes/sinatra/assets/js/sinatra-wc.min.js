"use strict";!function(e){var t=!1,o=e("body"),n=e("#page"),i={init:function(){e(document).ready(i.ready),e(document).ajaxComplete(i.ajaxComplete),o.on("added_to_cart",i.addedToCart),i.bindUIActions()},ready:function(){i.customDropdown(),i.quantButtons()},ajaxComplete:function(){i.quantButtons()},addedToCart:function(){i.showCartDropdown()},bindUIActions:function(){i.removeCartItem()},quantButtons:function(){var t,o,n,i,a=e("div.quantity:not(.appended), td.quantity:not(.appended)").find(".qty");a.length&&"date"!==a.prop("type")&&"hidden"!==a.prop("type")&&(a.parent().addClass("appended"),a.after('<a href="#" class="si-woo-minus">-</a><a href="#" class="si-woo-plus">+</a>'),e(".si-woo-plus, .si-woo-minus").unbind("click"),e(".si-woo-plus, .si-woo-minus").on("click",(function(r){r.preventDefault(),i=e(this),n=i.parent().find("input"),o=n.val(),t=0,i.hasClass("si-woo-plus")?t=parseInt(o)+1:o>0&&(t=parseInt(o)-1),n.val(t),a.trigger("change")})))},showCartDropdown:function(){e(".si-header-widget__cart").length&&(e(".si-header-widget__cart").addClass("dropdown-visible"),setTimeout((function(){e("#sinatra-header-inner").find(".si-cart").find(".si-cart-count").addClass("animate-pop")}),100),t&&(clearTimeout(t),t=!1),t=setTimeout((function(){e(".si-header-widget__cart").removeClass("dropdown-visible").find(".dropdown-item").removeAttr("style")}),5e3))},customDropdown:function(){if(e("form.woocommerce-ordering").length){var t=e("form.woocommerce-ordering .orderby"),o=e("form.woocommerce-ordering"),n=e("form.woocommerce-ordering .orderby option:selected").text();o.append('<span id="si-orderby"><span>'+n+'</span><svg class="si-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M24.958 10.483c-0.534-0.534-1.335-0.534-1.868 0l-7.074 7.074-7.074-7.074c-0.534-0.534-1.335-0.534-1.868 0s-0.534 1.335 0 1.868l8.008 8.008c0.267 0.267 0.667 0.4 0.934 0.4s0.667-0.133 0.934-0.4l8.008-8.008c0.534-0.534 0.534-1.335 0-1.868z"></path></svg></span>'),t.addClass("custom-select-loaded");var i=e("#si-orderby");t.width(i.width()).css("height",i.height()+"px"),t.change((function(){i.find("span").html(e("form.woocommerce-ordering .orderby option:selected").text()),e(this).width(i.width())}))}},removeCartItem:function(){var t;e(".si-remove-cart-item").length&&n.on("click",".si-remove-cart-item",(function(n){n.preventDefault(),(t=e(this)).closest(".si-cart-item").addClass("removing");var i={action:"sinatra_remove_wc_cart_item",_ajax_nonce:sinatra_vars.nonce,product_key:t.data("product_key")};e.post(sinatra_vars.ajaxurl,i,(function(e){e.success?o.trigger("wc_fragment_refresh"):t.closest(".si-cart-item").removeClass("removing")}))}))}};i.init(),window.sinatra_wc=i}(jQuery);